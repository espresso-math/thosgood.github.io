<!DOCTYPE HTML>
<html lang="en">
  <head>
  <meta charset="utf-8">
  <title>Tim Hosgood — Everything is Stokes'; everything is coend</title>
  <link rel="stylesheet" href="/assets/style/tachyons.min.css">
  <link rel="stylesheet" href="/assets/katex/katex.min.css">
  <link rel="stylesheet" href="/assets/style/global.css">
</head>

  <body class="athelas">

    <div id="header" class="w-100 bb h3-ns">
  <div class="mw7 center pa3">
      <div class="w-100 tc pb2 pa0-ns mh0-ns tl-ns fl-ns w-third-ns">
        <a href="/index.html" class="f3 link black-80">Tim Hosgood</a>
      </div>

      <div class="w-100 tc mh0-ns tr-ns fl-ns w-two-thirds-ns">
        <ul class="list ph4 ma0 fr-ns">
          <li class="dib pr2 pr3-ns"><a href="/" >About</a></li>
          <li class="dib ph2 ph3-ns"><a href="/papers" >Papers</a></li>
          <li class="dib ph2 ph3-ns"><a href="/projects" >Projects</a></li>
          <li class="dib pl2 pl3-ns"><a href="/blog" >Blog</a></li>
        </ul>
      </div>
  </div>
</div>

    <div id="main" class="cf w-100 pv3-ns lh-copy">
      <div class="center ph4 pl5-ns pr7-ns mw7-ns">
        <h3 class="f3">Everything is Stokes'; everything is coend</h4>
        <p>For category theorists, the idea that “everything is a Kan extension” is a familiar one, as is the slightly more abstract version “everything is a (co)end”. For differential geometers, the idea that “everything is Stokes’ theorem” is sort of the equivalent adage. In an entirely typical turn of events, it seems that these two seemingly unrelated aphorisms can be linked together, as I found out today on Twitter.</p>

<!-- more -->

<hr />

<p>Today, <a href="https://twitter.com/ququ7"><code>@ququ7</code></a> tweeted/twote/twut that, <a href="https://twitter.com/ququ7/status/1169048827703287814">a few years back, Tim Campion had told him how Stokes’ theorem is a result about coends</a>. All I want to do here is share this great little snippet, but I won’t be doing much more than just repeating exactly the contents of the above tweet, so you might as well just go check it out there!</p>

<p>Here’s the idea. We look at <script type="math/tex">\mathbb{N}</script> as a poset, the category <script type="math/tex">\mathsf{Vect}_\mathbb{R}</script> of real-vector spaces, and fix some manifold <script type="math/tex">X</script>. Then we have two pretty standard functors.</p>

<p>Firstly, we have <script type="math/tex">C^X:\mathbb{N}^\mathrm{op}\to\mathsf{Vect}_\mathbb{R}</script>, which sends <script type="math/tex">n\in\mathbb{N}</script> to the free vector space <script type="math/tex">C_n=\langle\varphi\colon Y\to X\rangle_\mathbb{R}</script>, where <script type="math/tex">\varphi\colon Y\to X</script> are smooth maps from compact, <script type="math/tex">n</script>-dimensional, oriented manifolds <script type="math/tex">Y</script> with boundary, and acts on morphisms by sending <script type="math/tex">n\to n+1</script> to the map <script type="math/tex">\partial\colon C_{n+1}\to C_n</script>, given by taking the boundaries of our manifolds <script type="math/tex">Y</script>.</p>

<p>Secondly, there is the de Rham functor <script type="math/tex">\Omega_X\colon\mathbb{N}\to\mathsf{Vect}_\mathbb{R}</script>, which sends <script type="math/tex">n\in\mathbb{N}</script> to the space <script type="math/tex">\Omega_X^n</script> of smooth <script type="math/tex">n</script>-forms on <script type="math/tex">X</script>, and sends <script type="math/tex">n\to n+1</script> to the exterior derivative <script type="math/tex">\mathrm{d}\colon\Omega_X^n\to\Omega_X^{n+1}</script>.</p>

<p>Now we use the usual tensor product on <script type="math/tex">\mathsf{Vect}_\mathbb{R}</script> to get a functor</p>

<script type="math/tex; mode=display">C^X\otimes\Omega_X\colon\mathbb{N}\times\mathbb{N}^\mathrm{op}\to\mathsf{Vect}_\mathbb{R}.</script>

<p>We claim that we can make <script type="math/tex">C^X\otimes\Omega_X\to\mathbb{R}</script> into a <strong>cowedge</strong>, i.e. that, for all <script type="math/tex">n\in\mathbb{N}</script>, we can find morphisms <script type="math/tex">w_n\colon C_n^X\otimes\Omega_X^n\to\mathbb{R}</script> such that, for any <script type="math/tex">f\colon m\to n</script> (and here we can restrict to <script type="math/tex">m\to m+1</script>, since these are the morphisms in <script type="math/tex">\mathbb{N}</script> that generate all the others (that aren’t the identity)), the square</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{array}{ccc}
    C_{m+1}^X\otimes\Omega_X^m & \xrightarrow{\partial\,\otimes\,1} & C_m^X\otimes\Omega_X^m\\
    {\scriptstyle 1\,\otimes\,\mathrm{d}}\bigg\downarrow && \bigg\downarrow{\scriptstyle w_m}\\
    C_{m+1}^X\otimes\Omega_X^{m+1} & \xrightarrow{w_{m+1}} & \mathbb{R}
\end{array} %]]></script>

<p>commutes.</p>

<p>The surprising fact, then, is that Stokes’ theorem tells us that taking <script type="math/tex">w_n</script> to be defined by</p>

<script type="math/tex; mode=display">\int\colon(\varphi\colon Y\to X)\otimes\omega \mapsto \int_Y \varphi^*\omega</script>

<p>gives us exactly what we want. Indeed, Stokes’ theorem (in some form) says that</p>

<script type="math/tex; mode=display">\int_{\partial Z}\tau=\int_Z \mathrm{d}\tau</script>

<p>and, since pullbacks commute with <script type="math/tex">\mathrm{d}</script>, when we replace <script type="math/tex">\tau</script> with <script type="math/tex">\varphi^*\omega</script>, we get that the above square commutes. Neat!</p>

<p>What is not entirely clear to me, however, is if this is really a fact about <em>coends</em>, since then we would need to show that this cowedge is universal. This is something for me to think about the next time I’m bored on the tram.</p>

<hr />

<p>All in all, this is a bit similar to an abstract version of de Rham’s theorem, which says that the above integration map (when we replace <script type="math/tex">C_n</script> by <em>singular</em> cochains) is a quasi-isomorphism, and the commuting square sort of encodes the fact that integration respects the differentials of the two complexes. (This is what <a href="https://twitter.com/littmath">Daniel Litt</a> pointed out <a href="https://twitter.com/littmath/status/1169081052100530177">in a reply</a>).</p>

<p>One other question that I do have is the following: is there something to be gained by writing <script type="math/tex">C_X</script> as the functor represented by <script type="math/tex">X</script>, and using the coend version of the Yoneda lemma? I don’t know, but would love to find out!</p>

      </div>
    </div>
  
    <div id="footer" class="w-100 pt2 bt courier f6">
  <div class="center pa3 mw7-ns">
    <div class="w-100 ph4 mb3 fl-ns ph0-ns w-two-thirds-ns">
      <ul class="list pl0 ma0">
        <li>Tim Hosgood</li>
        <li>Université d'Aix-Marseille</li>
        <li><a href="mailto:thosgood@posteo.net" >thosgood@posteo.net</a></li>
      </ul>
    </div>

    <div class="w-100 ph4 fl-ns w-third-ns">
      <ul class="list ph0 mv2 ph2-ns ma0-ns fr-ns">
        <li><a href="https://arxiv.org/a/hosgood_t_1" >arXiv</a></li>
        <li><a href="https://github.com/thosgood" >GitHub</a></li>
      </ul>
      <ul class="list ph0 ma0 ph2-ns fr-ns">
        <li><a href="https://twitter.com/tjohnhos" >Twitter</a></li>
        <li><a href="https://matrix.to/#/@thosgood:matrix.org" >Matrix</a></li>
      </ul>
    </div>
  </div>
</div>


<script type="text/javascript" src="/assets/jquery-3.4.1.slim.min.js"></script>
<script type="text/javascript" src="/assets/katex/katex.min.js"></script>
<script type="text/javascript">
  $("script[type='math/tex']").replaceWith(
    function(){
      var tex = $(this).text();
      return "<span class=\"inline-equation\">" + 
             katex.renderToString(tex, {throwOnError: false}) +
             "</span>";
  });

  $("script[type='math/tex; mode=display']").replaceWith(
    function(){
      var tex = $(this).text();
      return "<div class=\"equation\">" + 
             katex.renderToString(tex, {displayMode: true, throwOnError: false}) +
             "</div>";
  });
</script>
<script type="text/javascript">
  $(document).ready(function () {
    var images = ['geometry.png', 'geometry2.png', 'greyzz.png', 'light_grey.png', 'pixel_weave.png', 'pw_pattern.png', 'sos.png'];
    var path = '/assets/backgrounds/';
    $('body').css({'background-image': 'url(' + path + images[Math.floor(Math.random() * images.length)] + ')'});
  });
</script>


  </body>
</html>
